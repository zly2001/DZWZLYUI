<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>用户管理</title>
		<link rel="stylesheet" type="text/css" href="css/index.css" />
	</head>

	<body>
			<div id="app">
				<h1>用户资料</h1>
		<template>
			<el-button type="primary" icon="el-icon-search">搜索</el-button>
			    <el-button type="success" @click="dialogVisible = true">新增用户资料资料</el-button>
			    
			    <el-dialog title="提示" :visible.sync="dialogVisible" width="60%"  :before-close="handleClose" @opened="handelOpen" :destroy-on-close="true" :fullscreen="false">
				<div id="cnt">
					<span>正在新增用户信息</span>
				</div>
				<span slot="footer" class="dialog-footer">
				    <el-button @click="dialogVisible = false">取 消</el-button>
				    <el-button type="primary" @click="dialogVisible = false">确 定</el-button>
 				 </span>
			</el-dialog>
			    
			    
			<el-table :data="clientlist" stripe style="width: 100%">
				
				<td></td><el-table-column prop="date" label="#" width="180">
					
				</el-table-column>
				<el-table-column prop="UserId" label="客户编号" width="180" >
				</el-table-column>
			<el-table-column prop="PhoneNumber" label="手机号码" width="180" >
				</el-table-column>
				<el-table-column prop="ConnectionPerson" label="接待人员" >
				</el-table-column>
				`<el-table-column prop="UserName" label="客户名称" >
				</el-table-column>
				<el-table-column prop="Useraddress" label="用户地址" >
				</el-table-column>
				<el-table-column prop="UserLevel" label="用户级别" >
				</el-table-column>
				<el-table-column prop="registAddress" label="注册地址" >
				</el-table-column>
				`<el-table-column prop="UserRemark" label="用户备注">
				</el-table-column>
				
			</el-table>
			

			</table>
			 <el-button type="primary">取消</el-button>
			  <el-button type="primary">确定</el-button>
		</template>
	</div>
	</body>
	<script type="text/javascript" src="js/jquery-1.12.4.js"></script>
	<script type="text/javascript" src="js/vue.js"></script>
	<script type="text/javascript" src="js/axios.min.js"></script>
	<script type="text/javascript" src="js/axios_cfg.js"></script>
	<script type="text/javascript" src="js/index.js"></script>
	<script>
		var app = new Vue({
			el: "#app",
			data: {
				dialogVisible: false,
				Client:{},
				clientlist:[]
				
			},
			mounted(){
				let _this=this;
				axios.post(`http://127.0.0.1:8080/DZWWeb/nj/api/NjClientAction/queryAll`)
				.then(function(resp){
					_this.clientlist=resp.data;
				});
			},
			//方法
				methods: {
				handleClose(done) {
					this.$confirm('确认关闭？')
						.then(_ => {
							done();//关闭
						})
						.catch(_ => {});
				},
				handelOpen(){
					$("#cnt").load("addUserMessage.html");
				}
			},
			
		})
	</script>

</html>