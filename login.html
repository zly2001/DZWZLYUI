<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>登录</title>
		<link rel="stylesheet" href="css/index.css" />
		<style>
			.el-header,
			.el-footer {
				background-color: #B3C0D1;
				color: #333;
				text-align: center;
				line-height: 60px;
			}
			
			.el-main {
				background-color: #E9EEF3;
				color: #333;
				text-align: center;
				line-height: 160px;
			}
			
			body > .el-container {
				margin-bottom: 40px;
			}
		</style>
	</head>

	<body>
		<div id="login">
			<el-container>
				<el-header style='height:10%;'>登录</el-header>
				<el-main>
					<el-form :model="Employee" ref="personForm">
						<el-row>
							<el-col :span="12" :offset="10">
								<el-form-item label="工号" prop="employeeid">
									<el-col :span="6">
										<!--非常重要-->
										<el-input v-model.number="Employee.employeeid" placeholder="请输入工号"></el-input>
									</el-col>
								</el-form-item>
							</el-col>
						</el-row>
						<el-row>
							<el-col :span="12" :offset="10">
								<el-form-item label="密码" prop="epwd">
									<el-col :span="6">
										<el-input v-model="Employee.epwd" placeholder="请输入密码"></el-input>
									</el-col>
								</el-form-item>
							</el-col>
						</el-row>
						<el-form-item>
							<el-button type="primary" @click="selectByLogin">登录</el-button>
						</el-form-item>
					</el-form>
				</el-main>
				<el-footer style='height:10%;'></el-footer>
			</el-container>
		</div>
	</body>
	<script type="text/javascript" src="js/jquery-1.12.4.js"></script>
	<script type="text/javascript" src="js/vue.js"></script>
	<script type="text/javascript" src="js/axios.min.js"></script>
	<script type="text/javascript" src="js/axios_cfg.js"></script>
	<script type="text/javascript" src="js/index.js"></script>
	<script>
		var login = new Vue({
			el: '#login',
			data: {
				Employee: {
					employeeid: '',
					epwd: ''
				}
			},
			methods: {
				selectByLogin() {
					axios.get(`http://127.0.0.1:8080/FenLiu/api/PurchaserecordsAction/selectByAll`, this.Employee).then(function(resp) {
						_this.Purchaserecords = resp.data;
						if (resp.data.code == "200") {
							this.$message({
								message: '恭喜你，这是一条成功消息',
								type: 'success'
							});
							document.location = "index.html";
						} else {
							this.$message.error('错了哦，这是一条错误消息');
						}
					});
				}
			}
		})
	</script>

</html>